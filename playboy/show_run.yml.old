- hosts: localhost 
  connection: local
  gather_facts: false
  vars_prompt:
  - name: "target_host"
    prompt: please enter ip or hostname of target
    private: no
  tasks:
    - add_host:
        name: "{{ target_host }}"
        groups: dynamically_created_hosts
   
- hosts: dynamically_created_hosts 
  tasks:
  - include_vars: secret.yaml
  - ios_command:
      commands: "show run"
      provider: "{{ provider }}"
    register: out
  - debug: var=out.stdout_lines



